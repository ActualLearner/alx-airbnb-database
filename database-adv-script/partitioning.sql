CREATE TABLE booking (
  booking_id CHAR(36) PRIMARY KEY,
  property_id CHAR(36) NOT NULL,
  user_id CHAR(36) NOT NULL,
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,
  total_price DECIMAL(10,2) NOT NULL,
  status ENUM('pending', 'confirmed', 'canceled') NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (property_id) REFERENCES property(property_id),
  FOREIGN KEY (user_id) REFERENCES users(user_id)
) PARTITION BY RANGE COLUMNS(start_date) (
  PARTITION p_2025_01 VALUES LESS THAN ('2025-02-01'),
  PARTITION p_2025_02 VALUES LESS THAN ('2025-03-01'),
  PARTITION p_2025_03 VALUES LESS THAN ('2025-04-01'),
  PARTITION p_2025_04 VALUES LESS THAN ('2025-05-01'),
  PARTITION p_2025_05 VALUES LESS THAN ('2025-06-01'),
  PARTITION p_2025_06 VALUES LESS THAN ('2025-07-01'),
  PARTITION p_2025_07 VALUES LESS THAN ('2025-08-01'),
  PARTITION p_2025_08 VALUES LESS THAN ('2025-09-01'),
  PARTITION p_2025_09 VALUES LESS THAN ('2025-10-01'),
  PARTITION p_2025_10 VALUES LESS THAN ('2025-11-01'),
  PARTITION p_2025_11 VALUES LESS THAN ('2025-12-01'),
  PARTITION p_2025_12 VALUES LESS THAN ('2026-01-01'),
  PARTITION p_after_2025 VALUES LESS THAN MAXVALUE
);
